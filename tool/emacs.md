`emacs -nw` 终端模式

# 基本命令

## 移动

- 屏幕级别
  - C-v     向前移动一屏
  - M-v     向后移动一屏
- 显示调整
  - C-l     重绘屏幕，并将光标所在行置于屏幕的中央
- 光标级别
  - C-f     向右移动一个字符
  - C-b     向左移动一个字符
  - C-n     移动到下一行
  - C-p     移动到上一行
- 单词级别
  - M-f     向右移动一个词【对中文是移动到下一个标点符号】
  - M-b     向左移动一个词【对中文是移动到上一个标点符号】
- 行级别
  - C-a     移动到行首
  - C-e     移动到行尾
  - M-a     移动到句首
  - M-e     移动到句尾
- 文档级别
  - `M-<` 可以将光标移动到所有文字的最开头
  - `M->` 可以将光标移动到所有文字的最末尾。
- 其他窗格
  - C-M-v 或 ESC C-v 向下滚动下方窗格
  - C-M-S-v 或 ESC C-S-v 向上滚动下方窗格

## 编辑

- 光标级别
  - `<DEL>`        删除光标前的一个字符
  - C-d          删除光标后的一个字符
- 词级别
  - `M-<DEL>`      移除光标前的一个词
  - M-d          移除光标后的一个词
- 行级别
  - C-k          移除从光标到“行尾”间的字符
  - M-k          移除从光标到“句尾”间的字符
- 召回
  - C-y 召回
  - M-y 召回再往前的记录，C-y之后使用
- 撤销
  - C-/, C-_ , C-x u 撤销
- `C-x replace-s<tab>` 字符串替换
- 文件找回
  - `M-x recover-file emacs`定期自动保存文件到其他地方，可以在修改丢失时恢复文件
- 折行
  - C-x f 设置需要折行的长度
  - M-q 手动折行

## 文件操作

- C-x C-f 寻找，打开文件
- C-x C-s 储存文件
  - `M-x customize-variable <Return> make-backup-file <Return>` 关闭自动生成 后缀为 ~ 的备份文件

## 搜索

- C-s 向下渐进搜素
- C-r 向上渐近搜索

## 重复执行

C-u 重复执行， C-u 8 C-f 会向前移动 8 个字符。

## 窗格(window)

- C-x 1   只保留一个窗格（也就是关掉其它所有窗格）。
- C-x C-b 新窗格列出缓冲区
- C-x b 切换缓冲区
- C-x s 保存多个缓冲区
- C-x 2 打开两个窗格
- C-x o 移动到其他(other)窗格
- C-x 4 C-f 新窗格打开指定文件

## 窗口(frame)

C-x 5 2 打开新窗口(gui下才行)
C-x 5 0 关闭当前窗口，或者窗口上的x号也行

## 命令扩展

- C-x 字符扩展
- M-x 命令扩展

## 模式

- 主模式切换
  - M-x fundamental-mode
  - M-x text-mode
- 辅模式，辅助主模式的行为
  - M-x auto-fill-mode 启动/关闭自动折行模式

## 递归编辑

- `M-%` 交互式替换时，C-s进行搜索
- `Esc Esc Esc` “离开”命令，离开递归编辑，也可以用来关闭多余的窗格

## 终止

- C-z 挂起emacs
- C-g 来安全地终止命令
- C-x C-c 退出emacs

## 扩展包

- `M-x list-packages` 浏览所有可安装的软件包

## 帮助

- C-h k key/mouse/item 打开新的窗格显示函数名和文档
- C-h c key/mouse/item 显示后续操作对应的函数名
- C-h x command        解释一个命令
- C-h m 查看当前主模式相关文档
- C-h v 显示Emcas变量的文档
- C-h a 命令搜索
- C-h i 阅读emacs手册


